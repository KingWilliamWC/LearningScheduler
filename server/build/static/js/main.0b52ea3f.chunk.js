(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),i=a.n(r),c=a(15),o=a(16),l=a(18),u=a(17),d=a(73),h=a(11),j=(a(90),a(157)),p=a(147),g=(a(91),a(2)),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateClock=function(){n.setState({time:new Date})},n.onUserProfileClick=function(){0===n.state.dropDownState&&n.setState({dropDownState:1})},n.DropdownClick=function(e){n.props.tabHandler(e),n.setState({dropDownState:0})},n.SignOutHandler=function(){localStorage.removeItem("user"),window.location=n.props.routes.signPage},n.state={dropDownClasses:["dropdown-content-hide ","dropdown-content-hide dropdown-content"],dropDownState:0,time:new Date},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.clockUpdate=setInterval((function(){return e.updateClock()}),1e3);var t=document.getElementsByClassName("userProfileContainer")[0];document.addEventListener("mousedown",(function(a){t.contains(a.target)||1===e.state.dropDownState&&e.setState({dropDownState:0})}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{id:"bartop",children:[Object(g.jsx)("p",{children:this.state.time.toLocaleTimeString().substring(0,5)}),Object(g.jsx)("div",{id:"logoTopContainer",children:Object(g.jsxs)("p",{children:["Lear-",Object(g.jsx)("span",{id:"nineLogoTextTop",children:"9"})]})}),Object(g.jsxs)("div",{onClick:function(){return e.onUserProfileClick()},className:"userProfileContainer",children:[Object(g.jsx)(p.a,{"aria-label":"delete",children:Object(g.jsx)(j.a,{id:"avatarImg",children:"WW"})}),Object(g.jsxs)("div",{class:this.state.dropDownClasses[this.state.dropDownState],children:[Object(g.jsx)("div",{id:"userNameContainer",children:Object(g.jsx)("p",{id:"userName",children:JSON.parse(localStorage.getItem("user")).username})}),Object(g.jsx)("div",{onClick:function(){return e.DropdownClick(1)},className:"dropdownItem",children:Object(g.jsx)("p",{children:"Settings"})}),Object(g.jsx)("div",{className:"dropdownItem",children:Object(g.jsx)("p",{children:"About"})}),Object(g.jsx)("div",{onClick:function(){return e.SignOutHandler()},className:"dropdownItem",children:Object(g.jsx)("p",{children:"Sign Out"})})]})]})]})}}]),a}(n.Component),m=a(72),S=a(30),O=a.n(S),x=(a(114),a.p+"static/media/play-solid.3c7578b0.svg"),v=a.p+"static/media/pause-solid.9df23b01.svg",f=a.p+"static/media/Ding.1bbb0f61.mp3",C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).UserPressPlay=function(){0===n.state.PlayState?n.setState({PlayState:1}):n.setState({PlayState:0})},n.userReset=function(){n.setState({CurrentTime:n.state.startTime,PlayState:0})},n.state={PlayClasses:["iconShow","iconHide"],PauseClasses:["iconHide","iconShow"],PlayState:0,currentSubject:JSON.parse(localStorage.getItem("user")).currentSubject,startTime:new Date("2021-12-05 ".concat(JSON.parse(localStorage.getItem("user")).learningLength,":00:00")),CurrentTime:new Date("2021-12-05 ".concat(JSON.parse(localStorage.getItem("user")).learningLength,":00:00")),lastChecked:JSON.parse(localStorage.getItem("user")).lastChecked},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Date;if(this.state.lastChecked.day!==t.getDate()){console.log("change");var a=JSON.parse(localStorage.getItem("user")),n=a.lastChecked;n.day=t.getDate(),n.month=t.getMonth(),O.a.post(this.props.routes.updateaccount,a).then((function(t){t.data.error||(localStorage.setItem("user",JSON.stringify(t.data.message)),e.setState({lastChecked:n,currentSubject:JSON.parse(localStorage.getItem("user")).subjects[Math.floor(Math.random()*JSON.parse(localStorage.getItem("user")).subjects.length)]}))}))}else console.log("no need!!");this.interval=setInterval((function(){if(1===e.state.PlayState){var t=e.state.CurrentTime;if(t.setSeconds(t.getSeconds()-1),10===t.getMinutes()&&0===t.getSeconds()||0===t.getMinutes()&&0===t.getSeconds())new m.Howl({src:[f],volume:1}).play();0===t.getHours()&&0===t.getMinutes()&&0===t.getSeconds()&&e.setState({PlayState:0}),e.setState({CurrentTime:t})}}),1e3)}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{id:"homeContainer",children:[Object(g.jsxs)("div",{id:"titleContainer",children:[Object(g.jsxs)("p",{id:"mainWelcomeTitle",children:["Good Afternoon, ",JSON.parse(localStorage.getItem("user")).username]}),Object(g.jsx)("p",{id:"mainSubTitle",children:"Ready For Some Learning?"})]}),Object(g.jsx)("div",{id:"genreContainer",children:Object(g.jsx)("p",{id:"genreText",children:this.state.currentSubject})}),Object(g.jsx)(p.a,{onClick:function(){return e.UserPressPlay()},id:"buttonFull","aria-label":"delete",children:Object(g.jsxs)("div",{id:"playIcon",children:[Object(g.jsx)("img",{alt:"",className:this.state.PlayClasses[this.state.PlayState],src:x}),Object(g.jsx)("img",{alt:"",className:this.state.PauseClasses[this.state.PlayState],src:v})]})}),Object(g.jsx)("p",{id:"TimeCounterText",children:this.state.CurrentTime.toLocaleTimeString("en-GB",{hour:"numeric",minute:"2-digit",second:"2-digit"})}),Object(g.jsx)("p",{onClick:function(){return e.userReset()},id:"ResetText",children:"Reset"})]})}}]),a}(n.Component),w=a(25),y=a.n(w),T=a(38),I=a(156),N=(a(116),a.p+"static/media/plus-circle-solid.6511bfea.svg"),k=a.p+"static/media/chevron-left-solid.310de47d.svg",D=a(151),P=a.p+"static/media/minus-circle-solid.2d8dea72.svg",M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsx)(D.a,{style:{height:50},elevation:1,children:Object(g.jsxs)("div",{className:"subjectContainer",children:[Object(g.jsx)("p",{className:"subjectName",children:this.props.name}),Object(g.jsx)("img",{alt:"",onClick:function(){return e.props.deleteHandler(e.props.index)},className:"subjectDeleteIcon",src:P})]})})}}]),a}(n.Component),B=a(74),H=a(158),U=a(160),J=a(155);function L(e){var t=s.a.useState(JSON.parse(localStorage.getItem("user")).learningLength),a=Object(B.a)(t,2),n=a[0],r=a[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)(H.a,{id:"demo-simple-select-label"}),Object(g.jsxs)(J.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,displayEmpty:!0,onChange:function(t){r(t.target.value),e.changeHandler(t.target.value)},children:[Object(g.jsx)(U.a,{value:1,children:"1"}),Object(g.jsx)(U.a,{value:2,children:"2"}),Object(g.jsx)(U.a,{value:3,children:"3"}),Object(g.jsx)(U.a,{value:4,children:"4"}),Object(g.jsx)(U.a,{value:5,children:"5"}),Object(g.jsx)(U.a,{value:6,children:"6"}),Object(g.jsx)(U.a,{value:7,children:"7"}),Object(g.jsx)(U.a,{value:8,children:"8"}),Object(g.jsx)(U.a,{value:9,children:"9"})]})]})}var A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleUserDelete=function(e){var t=n.state.genres;t.splice(e,1),n.setState({genres:t})},n.handleUserChangeLearningLength=function(e){n.setState({learningLength:e})},n.error=function(e){n.setState({errorState:1,errorMessage:e})},n.sendUserData=function(){var e=Object(T.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(n.props.routes.updateaccount,t).then((function(e){!0===e.data.error?"duplicate"===e.data.message&&n.error("Username already exists"):(localStorage.setItem("user",JSON.stringify(e.data.message)),n.props.tabHandler(0))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.userExit=Object(T.a)(y.a.mark((function e(){var t,a,s,r,i,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,a=document.getElementsByClassName("MuiInputBase-input")[0].value,s=document.getElementsByClassName("MuiInputBase-input")[1].value,r=n.state.genres,i=n.state.learningLength,a.length<=3&&(n.error("Please enter a username longer than 3 characters"),t=!0),s.length<=3&&(n.error("Please enter a password longer than 3 characters"),t=!0),t){e.next=15;break}return(c=JSON.parse(localStorage.getItem("user"))).username=a,c.password=s,c.subjects=r,c.learningLength=i,e.next=15,n.sendUserData(c);case 15:case"end":return e.stop()}}),e)}))),n.handleUserAdd=function(){if(1===n.state.addState){var e=document.getElementsByClassName("MuiInputBase-input")[2];if(e.value.length>0){var t=n.state.genres;t.push(e.value),e.value="",n.setState({addState:0,currentGenres:t})}else n.setState({addState:0})}else n.setState({addState:1})},n.state={genres:JSON.parse(localStorage.getItem("user")).subjects,learningLength:JSON.parse(localStorage.getItem("user")).learningLength,genresDisplay:[],addIDs:["addGenreInputContainerHide","addGenreInputContainerHide addGenreInputContainer"],addState:0,errorClasses:["hide","errorText"],errorState:0,errorMessage:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){document.getElementsByClassName("MuiInputBase-input")[0].value=JSON.parse(localStorage.getItem("user")).username,document.getElementsByClassName("MuiInputBase-input")[1].value=JSON.parse(localStorage.getItem("user")).password}},{key:"render",value:function(){var e=this;this.state.genresDisplay=[];for(var t=0;t<this.state.genres.length;t++)this.state.genresDisplay.push(Object(g.jsx)(M,{deleteHandler:this.handleUserDelete,index:t,name:this.state.genres[t]}));return Object(g.jsxs)("div",{id:"settingsTabContainer",children:[Object(g.jsx)("div",{id:"backContainer",children:Object(g.jsx)(p.a,{onClick:function(){return e.userExit()},"aria-label":"delete",children:Object(g.jsx)("img",{alt:"",id:"backIcon",src:k})})}),Object(g.jsx)("p",{className:"tabTitle",children:"User Settings"}),Object(g.jsx)("p",{className:this.state.errorClasses[this.state.errorState],children:this.state.errorMessage}),Object(g.jsx)("p",{className:"subSettingsTitle",children:"Account"}),Object(g.jsxs)("div",{id:"inputContainer",children:[Object(g.jsx)(I.a,{id:"InputContainerUserName",label:"Username",variant:"outlined"}),Object(g.jsx)(I.a,{style:{marginTop:20},className:"InputContainerPassword",type:"Password",label:"Password",variant:"outlined"})]}),Object(g.jsx)("p",{className:"subSettingsTitle subSettingsTitleBottom",children:"Subjects"}),Object(g.jsxs)("div",{id:"subjectsContainer",children:[this.state.genresDisplay,Object(g.jsxs)("div",{id:"addContainer",children:[Object(g.jsx)("div",{className:this.state.addIDs[this.state.addState],children:Object(g.jsx)(I.a,{style:{backgroundColor:"white"},label:"Subject Name",defaultValue:"",variant:"outlined"})}),Object(g.jsx)("img",{alt:"",onClick:function(){return e.handleUserAdd()},id:"addGenreBtn",src:N})]})]}),Object(g.jsx)("p",{className:"subSettingsTitle subSettingsTitleBottom",children:"Learning Time"}),Object(g.jsx)("p",{children:"Hours"}),Object(g.jsx)(L,{changeHandler:this.handleUserChangeLearningLength})]})}}]),a}(n.Component),E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).HandleTabChange=function(e){n.setState({TabState:e})},n.state={Tabs:[Object(g.jsx)(C,{routes:n.props.routes}),Object(g.jsx)(A,{routes:n.props.routes,tabHandler:n.HandleTabChange})],TabState:0},n}return Object(o.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(b,{routes:this.props.routes,tabHandler:this.HandleTabChange}),this.state.Tabs[this.state.TabState]]})}}]),a}(n.Component),R=a(154),G=(a(117),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).userSwitch=function(){0===n.state.AccountSwitchState?n.setState({AccountSwitchState:1,errorState:0}):n.setState({AccountSwitchState:0,errorState:0}),document.getElementsByClassName("MuiInputBase-input")[0].value="",document.getElementsByClassName("MuiInputBase-input")[1].value=""},n.sendData=function(){var e=Object(T.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(t,a).then((function(e){return e}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.error=function(e){n.setState({errorState:1,errorMessage:e})},n.userRegister=Object(T.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementsByClassName("MuiInputBase-input")[0],a=document.getElementsByClassName("MuiInputBase-input")[1],0!==n.state.AccountSwitchState){e.next=7;break}return e.next=5,O.a.post(n.props.routes.signin,{username:t.value,password:a.value}).then((function(e){!1===e.data.error?(localStorage.setItem("user",JSON.stringify(e.data.message)),window.location=n.props.routes.app):n.error("Incorrect username or password")}));case 5:e.next=9;break;case 7:return e.next=9,O.a.post(n.props.routes.signup,{username:t.value,password:a.value}).then((function(e){!1===e.data.error?(localStorage.setItem("user",JSON.stringify(e.data.message)),window.location=n.props.routes.app):(console.log(e.data),"duplicate"===e.data.message&&n.error("Username already exists"))}));case 9:case"end":return e.stop()}}),e)}))),n.state={AccountSwitchHTMl:[Object(g.jsxs)("p",{children:["Don't have an account? ",Object(g.jsx)("span",{onClick:function(){return n.userSwitch()},id:"linkSwitchText",children:"Sign Up"})]}),Object(g.jsxs)("p",{children:["Already have an account? ",Object(g.jsx)("span",{onClick:function(){return n.userSwitch()},id:"linkSwitchText",children:"Sign In"})]})],RegisterTitleText:["Sign In","Sign Up"],RegisterTitleIDs:["registerTitleBig","registerTitle"],errorClasses:["hide","errorText"],errorState:0,errorMessage:"",AccountSwitchState:0},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{id:"RegisterContainer",children:[Object(g.jsx)("div",{id:"logoTopContainerRegister",children:Object(g.jsxs)("p",{children:["Lear-",Object(g.jsx)("span",{id:"nineLogoTextTop",children:"9"})]})}),Object(g.jsxs)("div",{id:"registerContainer",children:[Object(g.jsx)("p",{id:this.state.RegisterTitleIDs[this.state.errorState],children:this.state.RegisterTitleText[this.state.AccountSwitchState]}),Object(g.jsx)("p",{className:this.state.errorClasses[this.state.errorState],children:this.state.errorMessage}),Object(g.jsxs)("div",{id:"inputsContainer",children:[Object(g.jsx)(I.a,{id:"InputContainerUserName",label:"Username",variant:"outlined"}),Object(g.jsx)(I.a,{style:{marginTop:20},className:"InputContainerPassword",type:"Password",label:"Password",variant:"outlined"}),Object(g.jsx)(R.a,{onClick:function(){return e.userRegister()},style:{color:"white",backgroundColor:"#1d63dc",width:125,margin:"20px auto"},variant:"contained",children:this.state.RegisterTitleText[this.state.AccountSwitchState]}),this.state.AccountSwitchHTMl[this.state.AccountSwitchState]]})]})]})}}]),a}(n.Component)),W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e="https://localhost",t={signin:"".concat(e,"/api/signin"),signup:"".concat(e,"/api/signup"),signPage:"https://localhost/",user:"".concat(e,"/api/user"),updateaccount:"".concat(e,"/api/updateaccount"),app:"https://localhost/app"};return Object(g.jsx)(d.a,{children:Object(g.jsxs)(h.c,{children:[Object(g.jsx)(h.a,{exact:!0,path:"/app",render:function(){return Object(g.jsx)(E,{routes:t})}}),Object(g.jsx)(h.a,{exact:!0,path:"/",render:function(){return Object(g.jsx)(G,{routes:t})}})]})})}}]),a}(n.Component);i.a.render(Object(g.jsx)(W,{}),document.getElementById("root"))},90:function(e,t,a){},91:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.0b52ea3f.chunk.js.map